<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SAP-NetSuite Integration | Forged Technologies</title>
    <meta name="description" content="Bidirectional enterprise integration connecting SAP ECC to Oracle NetSuite for real-time synchronization of procurement and financial data.">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/style.css?v=2">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect fill='%23181818' rx='8' width='100' height='100'/><path d='M25 18h50v14H39v12h30v14H39v24H25V18z' fill='%23909090'/></svg>">
</head>
<body>
    <!-- Navigation -->
    <nav class="nav">
        <div class="container nav__container">
            <a href="../index.html" class="nav__logo">Forged</a>

            <button class="nav__toggle" aria-label="Toggle navigation">
                <span></span>
                <span></span>
                <span></span>
            </button>

            <ul class="nav__links">
                <li><a href="../index.html" class="nav__link">Home</a></li>
                <li><a href="../solutions.html" class="nav__link nav__link--active">Solutions</a></li>
                <li><a href="../about.html" class="nav__link">About</a></li>
                <li><a href="../contact.html" class="nav__cta">Let's Talk</a></li>
            </ul>
        </div>
    </nav>

    <!-- Solution Hero -->
    <section class="solution-hero">
        <div class="container container--narrow">
            <a href="../solutions.html" style="font-size: 0.875rem; color: var(--text-muted); display: inline-flex; align-items: center; gap: 0.5rem; margin-bottom: var(--space-lg);">
                <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                    <path d="M19 12H5M12 19l-7-7 7-7"/>
                </svg>
                Back to Solutions
            </a>

            <h1>SAP-NetSuite Procure-to-Pay Integration</h1>
            <p class="mt-md" style="font-size: 1.125rem; max-width: 650px;">
                Bidirectional enterprise integration connecting SAP ECC to Oracle NetSuite
                for real-time synchronization of procurement and financial data.
            </p>

            <div class="solution-hero__meta mt-lg">
                <span><strong>Timeline:</strong> 3 weeks</span>
                <span><strong>Platform:</strong> SAP ECC / NetSuite</span>
                <span><strong>Role:</strong> Solo architect & developer</span>
            </div>
        </div>
    </section>

    <!-- Stats -->
    <section style="padding: var(--space-2xl) 0; background: var(--bg-secondary);">
        <div class="container container--narrow">
            <div class="stats-grid">
                <div class="stat">
                    <span class="stat__number">10+</span>
                    <span class="stat__label">Database Tables</span>
                </div>
                <div class="stat">
                    <span class="stat__number">3</span>
                    <span class="stat__label">Sync Packages</span>
                </div>
                <div class="stat">
                    <span class="stat__number">7</span>
                    <span class="stat__label">Business Objects</span>
                </div>
                <div class="stat">
                    <span class="stat__number">Bidirectional</span>
                    <span class="stat__label">Sync Direction</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Solution Content -->
    <section class="solution-content">
        <div class="container container--narrow">

            <!-- The Problem -->
            <div class="solution-section">
                <h2>The Problem</h2>
                <p>
                    Organizations running SAP for operations and NetSuite for accounting face a persistent
                    challenge: keeping procurement and financial data synchronized across both systems.
                </p>
                <p>The typical pain points:</p>
                <ul>
                    <li><strong>Manual data re-entry</strong> — POs, invoices, and payments keyed twice in both systems</li>
                    <li><strong>Data inconsistencies</strong> — Vendor bills in NetSuite don't match invoices in SAP</li>
                    <li><strong>Delayed financial visibility</strong> — AP and payment data out of sync across ERPs</li>
                    <li><strong>Reconciliation nightmares</strong> — Month-end close requires manual matching of thousands of transactions</li>
                    <li><strong>No audit trail</strong> — When data differs, no way to trace what went wrong</li>
                    <li><strong>Duplicate payments</strong> — Same invoice paid in both systems without detection</li>
                </ul>
            </div>

            <!-- The Solution -->
            <div class="solution-section">
                <h2>The Solution</h2>
                <p>
                    A comprehensive integration framework that synchronizes procurement and financial
                    data between SAP ECC and Oracle NetSuite in real-time, with bidirectional payment
                    flow and complete audit trail.
                </p>

                <h3>Core Capabilities</h3>
                <ul>
                    <li><strong>OAuth 1.0a Token-Based Authentication</strong> — Secure HMAC-SHA256 signed requests with automatic credential management</li>
                    <li><strong>Real-time Event-Driven Sync</strong> — Document creation and changes trigger immediate synchronization</li>
                    <li><strong>Bidirectional Data Flow</strong> — Outbound from SAP to NetSuite, inbound payment status from NetSuite to SAP</li>
                    <li><strong>Intelligent Retry Logic</strong> — Exponential backoff for transient failures with automatic recovery</li>
                    <li><strong>Comprehensive Audit Logging</strong> — Every transaction logged with full request/response for compliance</li>
                    <li><strong>Configurable Field Mapping</strong> — Subsidiary, account, payment term, and tax code translation tables</li>
                    <li><strong>Flexible Middleware Support</strong> — Direct HTTP or route through SAP CPI, Dell Boomi, MuleSoft</li>
                </ul>
            </div>

            <!-- Architecture -->
            <div class="solution-section">
                <h2>Architecture</h2>
                <p>
                    The integration follows a layered architecture: business integrations built on top
                    of a core API package, enabling consistent patterns across all synchronized objects.
                </p>

                <!-- Architecture Diagram -->
                <div class="flow-diagram" style="padding: var(--space-2xl);">
                    <div class="flow-diagram__title">SAP-NetSuite Integration Architecture</div>

                    <svg width="100%" height="320" viewBox="0 0 700 320" fill="none" style="max-width: 700px; margin: 0 auto; display: block;">
                        <!-- SAP Layer -->
                        <rect x="20" y="20" width="180" height="280" rx="8" fill="rgba(64,64,64,0.12)" stroke="rgba(64,64,64,0.4)" stroke-width="1"/>
                        <text x="110" y="45" fill="#606060" font-size="11" font-weight="600" text-anchor="middle" letter-spacing="1">SAP ECC</text>

                        <!-- MM Module -->
                        <rect x="35" y="60" width="70" height="80" rx="4" fill="#2a2a2a" stroke="#505050" stroke-width="1"/>
                        <text x="70" y="80" fill="#707070" font-size="9" font-weight="600" text-anchor="middle">MM</text>
                        <text x="70" y="98" fill="#909090" font-size="8" text-anchor="middle">PO</text>
                        <text x="70" y="110" fill="#909090" font-size="8" text-anchor="middle">GR</text>
                        <text x="70" y="122" fill="#909090" font-size="8" text-anchor="middle">Invoice</text>

                        <!-- FI Module -->
                        <rect x="115" y="60" width="70" height="80" rx="4" fill="#2a2a2a" stroke="#505050" stroke-width="1"/>
                        <text x="150" y="80" fill="#707070" font-size="9" font-weight="600" text-anchor="middle">FI</text>
                        <text x="150" y="98" fill="#909090" font-size="8" text-anchor="middle">Vendor</text>
                        <text x="150" y="110" fill="#909090" font-size="8" text-anchor="middle">Payment</text>
                        <text x="150" y="122" fill="#909090" font-size="8" text-anchor="middle">JE / GL</text>

                        <!-- BADI Triggers -->
                        <rect x="35" y="155" width="150" height="35" rx="4" fill="#404040" stroke="#707070" stroke-width="1"/>
                        <text x="110" y="177" fill="#909090" font-size="10" font-weight="500" text-anchor="middle">Event Triggers</text>

                        <!-- Data Tables -->
                        <rect x="35" y="205" width="150" height="35" rx="4" fill="#353535" stroke="#505050" stroke-width="1"/>
                        <text x="110" y="227" fill="#707070" font-size="10" text-anchor="middle">Config + Tracking</text>

                        <!-- Audit Log -->
                        <rect x="35" y="255" width="150" height="30" rx="4" fill="#252525" stroke="#353535" stroke-width="1"/>
                        <text x="110" y="275" fill="#505050" font-size="9" text-anchor="middle">Audit Log</text>

                        <!-- Integration Layer (Highlighted) -->
                        <rect x="235" y="50" width="160" height="220" rx="8" fill="rgba(144,144,144,0.12)" stroke="#909090" stroke-width="2"/>
                        <text x="315" y="75" fill="#909090" font-size="10" font-weight="600" text-anchor="middle" letter-spacing="1">INTEGRATION LAYER</text>

                        <!-- Core API -->
                        <rect x="250" y="95" width="130" height="35" rx="4" fill="#909090"/>
                        <text x="315" y="117" fill="#0a0a0a" font-size="10" font-weight="600" text-anchor="middle">Core API</text>

                        <!-- OAuth -->
                        <rect x="250" y="140" width="60" height="28" rx="4" fill="#707070"/>
                        <text x="280" y="158" fill="#e0e0e0" font-size="9" font-weight="500" text-anchor="middle">OAuth</text>

                        <!-- Mappers -->
                        <rect x="320" y="140" width="60" height="28" rx="4" fill="#707070"/>
                        <text x="350" y="158" fill="#e0e0e0" font-size="9" font-weight="500" text-anchor="middle">Mappers</text>

                        <!-- Callbacks -->
                        <rect x="250" y="178" width="60" height="28" rx="4" fill="#505050"/>
                        <text x="280" y="196" fill="#b0b0b0" font-size="9" text-anchor="middle">Callbacks</text>

                        <!-- Error Queue -->
                        <rect x="320" y="178" width="60" height="28" rx="4" fill="#505050"/>
                        <text x="350" y="196" fill="#b0b0b0" font-size="9" text-anchor="middle">Retry Queue</text>

                        <!-- Webhook Handler -->
                        <rect x="250" y="216" width="130" height="35" rx="4" fill="#404040" stroke="#606060" stroke-width="1"/>
                        <text x="315" y="238" fill="#909090" font-size="9" text-anchor="middle">Webhook Handler</text>

                        <!-- NetSuite Layer -->
                        <rect x="430" y="20" width="180" height="280" rx="8" fill="rgba(96,96,96,0.1)" stroke="rgba(96,96,96,0.3)" stroke-width="1"/>
                        <text x="520" y="45" fill="#606060" font-size="11" font-weight="600" text-anchor="middle" letter-spacing="1">NETSUITE</text>

                        <!-- REST API -->
                        <rect x="445" y="60" width="150" height="35" rx="4" fill="#404040" stroke="#909090" stroke-width="1.5"/>
                        <text x="520" y="82" fill="#e0e0e0" font-size="10" font-weight="500" text-anchor="middle">REST API</text>

                        <!-- Purchase Order -->
                        <rect x="445" y="110" width="70" height="35" rx="4" fill="#353535" stroke="#505050" stroke-width="1"/>
                        <text x="480" y="132" fill="#909090" font-size="9" text-anchor="middle">Purchase Order</text>

                        <!-- Item Receipt -->
                        <rect x="525" y="110" width="70" height="35" rx="4" fill="#353535" stroke="#505050" stroke-width="1"/>
                        <text x="560" y="132" fill="#909090" font-size="9" text-anchor="middle">Item Receipt</text>

                        <!-- Vendor Bill -->
                        <rect x="445" y="155" width="70" height="35" rx="4" fill="#353535" stroke="#505050" stroke-width="1"/>
                        <text x="480" y="177" fill="#909090" font-size="9" text-anchor="middle">Vendor Bill</text>

                        <!-- Payment -->
                        <rect x="525" y="155" width="70" height="35" rx="4" fill="#353535" stroke="#505050" stroke-width="1"/>
                        <text x="560" y="177" fill="#909090" font-size="9" text-anchor="middle">Payment</text>

                        <!-- Vendor -->
                        <rect x="445" y="200" width="70" height="35" rx="4" fill="#2a2a2a" stroke="#404040" stroke-width="1"/>
                        <text x="480" y="222" fill="#707070" font-size="9" text-anchor="middle">Vendor</text>

                        <!-- Journal Entry -->
                        <rect x="525" y="200" width="70" height="35" rx="4" fill="#2a2a2a" stroke="#404040" stroke-width="1"/>
                        <text x="560" y="222" fill="#707070" font-size="9" text-anchor="middle">Journal Entry</text>

                        <!-- Account -->
                        <rect x="445" y="245" width="150" height="30" rx="4" fill="#252525" stroke="#353535" stroke-width="1"/>
                        <text x="520" y="265" fill="#505050" font-size="9" text-anchor="middle">Account / Subsidiary</text>

                        <!-- Arrows: SAP to Integration -->
                        <line x1="185" y1="100" x2="230" y2="112" stroke="#707070" stroke-width="2"/>
                        <polygon points="228,107 238,112 228,117" fill="#707070"/>

                        <line x1="185" y1="172" x2="230" y2="155" stroke="#606060" stroke-width="1.5"/>
                        <polygon points="228,150 238,155 228,160" fill="#606060"/>

                        <!-- Arrows: Integration to NetSuite -->
                        <line x1="395" y1="112" x2="440" y2="85" stroke="#707070" stroke-width="2"/>
                        <polygon points="438,80 448,80 440,88" fill="#707070"/>

                        <!-- Bidirectional indicator for webhooks -->
                        <line x1="440" y1="170" x2="395" y2="230" stroke="#505050" stroke-width="1.5" stroke-dasharray="4"/>
                        <polygon points="397,225 390,235 400,232" fill="#505050"/>
                        <text x="405" y="205" fill="#505050" font-size="8" text-anchor="start">webhook</text>
                    </svg>
                </div>

                <h3>Integration Flow</h3>
                <div class="code-block">
<pre>1. Document created/changed in SAP (ME21N, MIGO, MIRO, F110)
2. Event trigger intercepts save
3. Sync class maps SAP data to NetSuite JSON format
4. OAuth 1.0a signature generated (HMAC-SHA256)
5. REST API call to NetSuite
6. Response logged to audit table
7. Success/failure tracked for retry processing
8. Webhook receives inbound events (payments)</pre>
                </div>
            </div>

            <!-- Technical Highlights -->
            <div class="solution-section">
                <h2>Technical Highlights</h2>

                <h3>Bidirectional Synchronization</h3>
                <p>
                    Seven business objects synchronized across systems with full tracking:
                </p>
                <ul>
                    <li><strong>Outbound (SAP to NetSuite):</strong> Purchase Orders, Goods Receipts, Vendor Invoices, Payments, Vendors, GL Accounts, Journal Entries</li>
                    <li><strong>Inbound (NetSuite to SAP):</strong> Payment status updates trigger SAP clearing document creation</li>
                </ul>

                <h3>OAuth 1.0a Token-Based Authentication</h3>
                <p>
                    Secure authentication using NetSuite's Token-Based Authentication (TBA):
                </p>
                <ul>
                    <li>HMAC-SHA256 signature on every request</li>
                    <li>Consumer key/secret + token ID/secret credential model</li>
                    <li>Automatic nonce and timestamp generation</li>
                    <li>No plaintext credentials in transit</li>
                </ul>

                <h3>Intelligent Error Handling</h3>
                <p>
                    Errors categorized and handled appropriately:
                </p>
                <ul>
                    <li><strong>Validation errors (400/422):</strong> Queued for manual review</li>
                    <li><strong>Technical errors (5xx):</strong> Automatic retry with exponential backoff</li>
                    <li><strong>Auth errors (401/403):</strong> Immediate alert for credential issues</li>
                    <li><strong>Mapping errors:</strong> Configuration fix required</li>
                    <li><strong>Conflict errors (409):</strong> SAP-wins conflict resolution</li>
                </ul>
                <p>
                    Retry schedule: 1 min, 2 min, 4 min, 8 min, 16 min. After 5 retries, manual intervention required.
                </p>

                <h3>Enterprise-Grade Audit Trail</h3>
                <p>
                    Complete visibility into every synchronization:
                </p>
                <ul>
                    <li>Timestamp, user, and direction for each transaction</li>
                    <li>Full request and response payloads stored</li>
                    <li>HTTP status codes and error categorization</li>
                    <li>Resolution notes for manually resolved items</li>
                    <li>Tracking tables link SAP documents to NetSuite IDs</li>
                </ul>

                <h3>Flexible Middleware Support</h3>
                <p>
                    Integration can route through existing middleware or connect directly:
                </p>
                <ul>
                    <li>Direct HTTP to NetSuite REST API (default)</li>
                    <li>SAP Cloud Platform Integration (CPI)</li>
                    <li>Dell Boomi</li>
                    <li>MuleSoft</li>
                </ul>
            </div>

            <!-- Business Application -->
            <div class="solution-section">
                <h2>Business Application</h2>
                <p>
                    The integration was deployed for full procure-to-pay synchronization with the following workflow:
                </p>
                <ol style="list-style: decimal; padding-left: var(--space-xl); color: var(--text-secondary);">
                    <li style="margin-bottom: var(--space-sm);">Buyer creates Purchase Order in SAP (ME21N)</li>
                    <li style="margin-bottom: var(--space-sm);">PO automatically syncs to NetSuite within seconds</li>
                    <li style="margin-bottom: var(--space-sm);">Warehouse receives goods, posts Goods Receipt in SAP (MIGO)</li>
                    <li style="margin-bottom: var(--space-sm);">Item Receipt created in NetSuite</li>
                    <li style="margin-bottom: var(--space-sm);">Accounts Payable receives invoice, posts in SAP (MIRO)</li>
                    <li style="margin-bottom: var(--space-sm);">Vendor Bill created in NetSuite</li>
                    <li style="margin-bottom: var(--space-sm);">Payment run executed in SAP (F110)</li>
                    <li style="margin-bottom: var(--space-sm);">Vendor Payment syncs to NetSuite</li>
                    <li style="margin-bottom: var(--space-sm);">Bidirectional reconciliation maintained automatically</li>
                </ol>
            </div>

            <!-- Results -->
            <div class="solution-section">
                <h2>Results</h2>
                <ul>
                    <li><strong>Eliminated manual data entry</strong> — No more duplicate entry across SAP and NetSuite</li>
                    <li><strong>Real-time financial visibility</strong> — AP and payment data synchronized within seconds</li>
                    <li><strong>Complete audit trail</strong> — Full traceability for SOX compliance requirements</li>
                    <li><strong>Zero duplicate payments</strong> — Idempotent processing prevents double-pay scenarios</li>
                    <li><strong>Faster month-end close</strong> — Automatic reconciliation eliminates manual matching</li>
                    <li><strong>Maintainable architecture</strong> — Layered design enables future extensions</li>
                </ul>
            </div>

            <!-- Documentation Delivered -->
            <div class="solution-section">
                <h2>Documentation Delivered</h2>
                <p>
                    This project included comprehensive documentation for deployment, maintenance,
                    and future development.
                </p>

                <div class="documentation-highlights">
                    <div class="doc-highlight">
                        <div class="doc-highlight__icon">
                            <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                <path d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"/>
                            </svg>
                        </div>
                        <div class="doc-highlight__content">
                            <strong>Architecture Documentation</strong>
                            <span>Integration design, data flows, component relationships</span>
                        </div>
                    </div>

                    <div class="doc-highlight">
                        <div class="doc-highlight__icon">
                            <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                <path d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                            </svg>
                        </div>
                        <div class="doc-highlight__content">
                            <strong>API Reference</strong>
                            <span>Methods, parameters, error codes, and usage examples</span>
                        </div>
                    </div>

                    <div class="doc-highlight">
                        <div class="doc-highlight__icon">
                            <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                <path d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"/>
                            </svg>
                        </div>
                        <div class="doc-highlight__content">
                            <strong>Setup & Configuration Guide</strong>
                            <span>Step-by-step deployment and credential setup</span>
                        </div>
                    </div>

                    <div class="doc-highlight">
                        <div class="doc-highlight__icon">
                            <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                <path d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/>
                            </svg>
                        </div>
                        <div class="doc-highlight__content">
                            <strong>Troubleshooting Guide</strong>
                            <span>Common issues, error categories, resolution procedures</span>
                        </div>
                    </div>

                    <div class="doc-highlight">
                        <div class="doc-highlight__icon">
                            <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                <path d="M4 6h16M4 10h16M4 14h16M4 18h16"/>
                            </svg>
                        </div>
                        <div class="doc-highlight__content">
                            <strong>Field Mapping Reference</strong>
                            <span>SAP to NetSuite field translations for all objects</span>
                        </div>
                    </div>

                    <div class="doc-highlight">
                        <div class="doc-highlight__icon">
                            <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                <path d="M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                            </svg>
                        </div>
                        <div class="doc-highlight__content">
                            <strong>Operations Guide</strong>
                            <span>Monitoring dashboards, retry processing, reconciliation</span>
                        </div>
                    </div>
                </div>

                <!-- Architecture Documentation Dropdown -->
                <div class="doc-preview" id="arch-doc-preview">
                    <button class="doc-preview__toggle" onclick="toggleArchDoc()">
                        <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                            <path d="M9 5l7 7-7 7"/>
                        </svg>
                        View Architecture Documentation Highlights
                    </button>
                    <div class="doc-preview__content">
                        <!-- Tab Navigation -->
                        <div class="arch-doc-tabs">
                            <button class="arch-doc-tabs__btn active" onclick="showArchTab('quick-ref')">Quick Reference</button>
                            <button class="arch-doc-tabs__btn" onclick="showArchTab('sync-objects')">Sync Objects</button>
                            <button class="arch-doc-tabs__btn" onclick="showArchTab('error-handling')">Error Handling</button>
                            <button class="arch-doc-tabs__btn" onclick="showArchTab('config')">Configuration</button>
                            <button class="arch-doc-tabs__btn" onclick="showArchTab('troubleshoot')">Troubleshooting</button>
                            <button class="arch-doc-tabs__btn" onclick="showArchTab('transactions')">SAP Transactions</button>
                        </div>

                        <!-- Tab 1: Quick Reference -->
                        <div class="arch-doc-section active" id="arch-tab-quick-ref">
                            <h4>Quick Reference</h4>
                            <table class="sap-table">
                                <thead>
                                    <tr>
                                        <th>Capability</th>
                                        <th>Description</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><code>OAuth 1.0a TBA</code></td>
                                        <td>Token-Based Authentication with HMAC-SHA256 signatures</td>
                                    </tr>
                                    <tr>
                                        <td><code>Bidirectional Sync</code></td>
                                        <td>Outbound (SAP to NetSuite) and inbound (webhooks)</td>
                                    </tr>
                                    <tr>
                                        <td><code>Real-time Triggers</code></td>
                                        <td>Event-driven sync on document save (ME21N, MIRO, F110)</td>
                                    </tr>
                                    <tr>
                                        <td><code>Error Queue</code></td>
                                        <td>Exponential backoff retry with manual intervention queue</td>
                                    </tr>
                                    <tr>
                                        <td><code>Audit Logging</code></td>
                                        <td>Full request/response payloads stored for compliance</td>
                                    </tr>
                                    <tr>
                                        <td><code>Middleware Support</code></td>
                                        <td>Direct HTTP, SAP CPI, Dell Boomi, MuleSoft</td>
                                    </tr>
                                </tbody>
                            </table>

                            <h5>Package Structure</h5>
                            <ul>
                                <li><strong>Core API Package</strong> — API client, webhook handler, retry logic, interfaces</li>
                                <li><strong>Financial Integration</strong> — Vendor, payment, journal entry sync</li>
                                <li><strong>Materials Management</strong> — PO, goods receipt, invoice sync</li>
                            </ul>
                        </div>

                        <!-- Tab 2: Sync Objects -->
                        <div class="arch-doc-section" id="arch-tab-sync-objects">
                            <h4>Synchronized Business Objects</h4>
                            <table class="sap-table">
                                <thead>
                                    <tr>
                                        <th>SAP Source</th>
                                        <th>NetSuite Target</th>
                                        <th>Direction</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Purchase Order (EKKO/EKPO)</td>
                                        <td>purchaseorder</td>
                                        <td>SAP → NetSuite</td>
                                    </tr>
                                    <tr>
                                        <td>Goods Receipt (MSEG 101)</td>
                                        <td>itemreceipt</td>
                                        <td>SAP → NetSuite</td>
                                    </tr>
                                    <tr>
                                        <td>Vendor Invoice (RBKP/RSEG)</td>
                                        <td>vendorbill</td>
                                        <td>SAP → NetSuite</td>
                                    </tr>
                                    <tr>
                                        <td>Payment (F110)</td>
                                        <td>vendorpayment</td>
                                        <td>Bidirectional</td>
                                    </tr>
                                    <tr>
                                        <td>Vendor (LFA1/LFB1)</td>
                                        <td>vendor</td>
                                        <td>SAP → NetSuite</td>
                                    </tr>
                                    <tr>
                                        <td>GL Account (SKA1)</td>
                                        <td>account</td>
                                        <td>SAP → NetSuite</td>
                                    </tr>
                                    <tr>
                                        <td>Journal Entry (BKPF/BSEG)</td>
                                        <td>journalentry</td>
                                        <td>SAP → NetSuite</td>
                                    </tr>
                                </tbody>
                            </table>

                            <div class="arch-doc-callout">
                                <div class="arch-doc-callout__title">Subsidiary Mapping</div>
                                <div class="arch-doc-callout__content">
                                    SAP company codes are mapped to NetSuite subsidiaries via configuration table.
                                    Each subsidiary has its own chart of accounts and currency settings.
                                </div>
                            </div>
                        </div>

                        <!-- Tab 3: Error Handling -->
                        <div class="arch-doc-section" id="arch-tab-error-handling">
                            <h4>Error Handling Strategy</h4>

                            <h5>Error Categories</h5>
                            <table class="sap-table">
                                <thead>
                                    <tr>
                                        <th>Category</th>
                                        <th>HTTP Codes</th>
                                        <th>Retryable</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><code>VALIDATION</code></td>
                                        <td>400, 422</td>
                                        <td>No</td>
                                        <td>Queue for manual fix</td>
                                    </tr>
                                    <tr>
                                        <td><code>TECHNICAL</code></td>
                                        <td>500, 502, 503, 504</td>
                                        <td>Yes</td>
                                        <td>Automatic retry</td>
                                    </tr>
                                    <tr>
                                        <td><code>AUTH</code></td>
                                        <td>401, 403</td>
                                        <td>No</td>
                                        <td>Immediate alert</td>
                                    </tr>
                                    <tr>
                                        <td><code>MAPPING</code></td>
                                        <td>400 (specific)</td>
                                        <td>No</td>
                                        <td>Fix configuration</td>
                                    </tr>
                                    <tr>
                                        <td><code>CONFLICT</code></td>
                                        <td>409</td>
                                        <td>Yes (once)</td>
                                        <td>Force update</td>
                                    </tr>
                                    <tr>
                                        <td><code>NETWORK</code></td>
                                        <td>Connection errors</td>
                                        <td>Yes</td>
                                        <td>Automatic retry</td>
                                    </tr>
                                </tbody>
                            </table>

                            <h5>Exponential Backoff Schedule</h5>
                            <div class="arch-doc-flow">
                                <div class="arch-doc-flow__step">
                                    <span class="arch-doc-flow__num">1</span>
                                    <span>Retry after 60 seconds (1 min total)</span>
                                </div>
                                <div class="arch-doc-flow__step">
                                    <span class="arch-doc-flow__num">2</span>
                                    <span>Retry after 120 seconds (3 min total)</span>
                                </div>
                                <div class="arch-doc-flow__step">
                                    <span class="arch-doc-flow__num">3</span>
                                    <span>Retry after 240 seconds (7 min total)</span>
                                </div>
                                <div class="arch-doc-flow__step">
                                    <span class="arch-doc-flow__num">4</span>
                                    <span>Retry after 480 seconds (15 min total)</span>
                                </div>
                                <div class="arch-doc-flow__step">
                                    <span class="arch-doc-flow__num">5</span>
                                    <span>Retry after 960 seconds (31 min total)</span>
                                </div>
                            </div>

                            <div class="arch-doc-callout">
                                <div class="arch-doc-callout__title">Manual Intervention</div>
                                <div class="arch-doc-callout__content">
                                    After 5 failed retries, the record remains in the error queue for manual review.
                                    Resolution notes can be added when marking as resolved.
                                </div>
                            </div>
                        </div>

                        <!-- Tab 4: Configuration Checklist -->
                        <div class="arch-doc-section" id="arch-tab-config">
                            <h4>Configuration Checklist</h4>

                            <h5>NetSuite Setup</h5>
                            <ul class="arch-doc-checklist">
                                <li>Create Integration record (Setup → Integrations → Manage Integrations)</li>
                                <li>Generate Consumer Key and Consumer Secret</li>
                                <li>Create Access Token for integration user</li>
                                <li>Enable REST Web Services and SuiteQL features</li>
                                <li>Configure custom fields with SAP external IDs on records</li>
                                <li>Set up SuiteScript for webhook notifications (optional)</li>
                            </ul>

                            <h5>SAP Setup</h5>
                            <ul class="arch-doc-checklist">
                                <li>Create configuration tables (SE11)</li>
                                <li>Create API and sync classes (SE24)</li>
                                <li>Activate event trigger implementations (SE19)</li>
                                <li>Create BSP application for webhooks (SE80)</li>
                                <li>Activate SICF service for webhook endpoint</li>
                                <li>Import SSL certificates for NetSuite (STRUST)</li>
                                <li>Enter TBA credentials (SM30 → Config table)</li>
                            </ul>

                            <h5>Mapping Configuration</h5>
                            <ul class="arch-doc-checklist">
                                <li>Map company codes to NetSuite subsidiaries</li>
                                <li>Map SAP GL accounts to NetSuite accounts</li>
                                <li>Map payment terms (SAP → NetSuite term IDs)</li>
                                <li>Map tax codes (SAP → NetSuite tax codes)</li>
                                <li>Map units of measure (optional)</li>
                            </ul>

                            <h5>Verification Tests</h5>
                            <ul class="arch-doc-checklist">
                                <li>Connection test passes (OAuth authentication)</li>
                                <li>Vendor sync creates record in NetSuite</li>
                                <li>PO sync creates Purchase Order in NetSuite</li>
                                <li>Invoice sync creates Vendor Bill in NetSuite</li>
                                <li>Error queue processes retries correctly</li>
                            </ul>
                        </div>

                        <!-- Tab 5: Troubleshooting -->
                        <div class="arch-doc-section" id="arch-tab-troubleshoot">
                            <h4>Troubleshooting Guide</h4>

                            <h5>Diagnostic Decision Tree</h5>
                            <div class="arch-doc-flow">
                                <div class="arch-doc-flow__step">
                                    <span class="arch-doc-flow__num">?</span>
                                    <span><strong>No sync log entries?</strong> → Event trigger not firing. Check implementation is active.</span>
                                </div>
                                <div class="arch-doc-flow__step">
                                    <span class="arch-doc-flow__num">?</span>
                                    <span><strong>AUTH errors?</strong> → TBA credentials invalid. Verify consumer key/secret and token.</span>
                                </div>
                                <div class="arch-doc-flow__step">
                                    <span class="arch-doc-flow__num">?</span>
                                    <span><strong>VALIDATION errors?</strong> → Required field missing. Check field mapping configuration.</span>
                                </div>
                                <div class="arch-doc-flow__step">
                                    <span class="arch-doc-flow__num">?</span>
                                    <span><strong>MAPPING errors?</strong> → Subsidiary/account not mapped. Update mapping tables.</span>
                                </div>
                            </div>

                            <h5>Common OAuth Errors</h5>
                            <table class="sap-table">
                                <thead>
                                    <tr>
                                        <th>Error</th>
                                        <th>Cause</th>
                                        <th>Solution</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><code>INVALID_LOGIN_ATTEMPT</code></td>
                                        <td>Wrong credentials</td>
                                        <td>Verify all 4 TBA values in config</td>
                                    </tr>
                                    <tr>
                                        <td><code>USER_ERROR</code></td>
                                        <td>User permissions</td>
                                        <td>Check integration user role has API access</td>
                                    </tr>
                                    <tr>
                                        <td><code>SSS_REQUEST_LIMIT_EXCEEDED</code></td>
                                        <td>Rate limiting</td>
                                        <td>Reduce sync frequency, implement throttling</td>
                                    </tr>
                                </tbody>
                            </table>

                            <h5>Common API Errors</h5>
                            <table class="sap-table">
                                <thead>
                                    <tr>
                                        <th>Error</th>
                                        <th>HTTP</th>
                                        <th>Solution</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><code>INVALID_KEY_OR_REF</code></td>
                                        <td>400</td>
                                        <td>Referenced record doesn't exist (vendor, subsidiary)</td>
                                    </tr>
                                    <tr>
                                        <td><code>RCRD_DSNT_EXIST</code></td>
                                        <td>404</td>
                                        <td>Record ID not found in NetSuite</td>
                                    </tr>
                                    <tr>
                                        <td><code>DUP_RCRD</code></td>
                                        <td>409</td>
                                        <td>Duplicate external ID, update instead of create</td>
                                    </tr>
                                </tbody>
                            </table>

                            <div class="arch-doc-callout">
                                <div class="arch-doc-callout__title">Emergency Disable</div>
                                <div class="arch-doc-callout__content">
                                    If integration is causing issues: Deactivate the event trigger implementation.
                                    SAP transactions will continue without NetSuite sync. Re-sync manually later via batch job.
                                </div>
                            </div>
                        </div>

                        <!-- Tab 6: SAP Transactions -->
                        <div class="arch-doc-section" id="arch-tab-transactions">
                            <h4>SAP Transaction Reference</h4>
                            <table class="sap-table">
                                <thead>
                                    <tr>
                                        <th>Transaction</th>
                                        <th>Purpose</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><code>ME21N</code></td>
                                        <td>Create Purchase Order (triggers PO sync)</td>
                                    </tr>
                                    <tr>
                                        <td><code>ME22N</code></td>
                                        <td>Change Purchase Order (triggers PO update)</td>
                                    </tr>
                                    <tr>
                                        <td><code>MIGO</code></td>
                                        <td>Goods Receipt (triggers Item Receipt sync)</td>
                                    </tr>
                                    <tr>
                                        <td><code>MIRO</code></td>
                                        <td>Vendor Invoice (triggers Vendor Bill sync)</td>
                                    </tr>
                                    <tr>
                                        <td><code>F110</code></td>
                                        <td>Payment Run (triggers Payment sync)</td>
                                    </tr>
                                    <tr>
                                        <td><code>XK01/XK02</code></td>
                                        <td>Vendor Master (triggers Vendor sync)</td>
                                    </tr>
                                    <tr>
                                        <td><code>SE11</code></td>
                                        <td>Data Dictionary — tables, domains</td>
                                    </tr>
                                    <tr>
                                        <td><code>SE24</code></td>
                                        <td>Class Builder — API and sync classes</td>
                                    </tr>
                                    <tr>
                                        <td><code>SE19</code></td>
                                        <td>Event trigger implementation maintenance</td>
                                    </tr>
                                    <tr>
                                        <td><code>SM30</code></td>
                                        <td>Table maintenance — config and mappings</td>
                                    </tr>
                                    <tr>
                                        <td><code>SM36/SM37</code></td>
                                        <td>Job scheduling and monitoring</td>
                                    </tr>
                                    <tr>
                                        <td><code>SICF</code></td>
                                        <td>HTTP service activation (webhooks)</td>
                                    </tr>
                                    <tr>
                                        <td><code>STRUST</code></td>
                                        <td>SSL certificate management</td>
                                    </tr>
                                </tbody>
                            </table>

                            <div class="arch-doc-callout">
                                <div class="arch-doc-callout__title">Deployment Order</div>
                                <div class="arch-doc-callout__content">
                                    1. SE11 (tables) → 2. SE24 (classes) → 3. SE19 (triggers) → 4. SE80 (BSP) → 5. SICF (activate) → 6. STRUST (certs) → 7. SM30 (config) → 8. Test
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <script>
                function toggleArchDoc() {
                    const preview = document.getElementById('arch-doc-preview');
                    preview.classList.toggle('expanded');
                }

                function showArchTab(tabId) {
                    // Hide all sections
                    document.querySelectorAll('.arch-doc-section').forEach(section => {
                        section.classList.remove('active');
                    });
                    // Remove active from all buttons
                    document.querySelectorAll('.arch-doc-tabs__btn').forEach(btn => {
                        btn.classList.remove('active');
                    });
                    // Show selected section
                    document.getElementById('arch-tab-' + tabId).classList.add('active');
                    // Set button active
                    event.target.classList.add('active');
                }
                </script>
            </div>

            <!-- Technologies -->
            <div class="solution-section">
                <h2>Technologies</h2>
                <div class="card__tags" style="gap: var(--space-md);">
                    <span class="tag" style="font-size: 0.875rem; padding: var(--space-sm) var(--space-md);">SAP ECC</span>
                    <span class="tag" style="font-size: 0.875rem; padding: var(--space-sm) var(--space-md);">ABAP</span>
                    <span class="tag" style="font-size: 0.875rem; padding: var(--space-sm) var(--space-md);">NetSuite REST API</span>
                    <span class="tag" style="font-size: 0.875rem; padding: var(--space-sm) var(--space-md);">OAuth 1.0a</span>
                    <span class="tag" style="font-size: 0.875rem; padding: var(--space-sm) var(--space-md);">JSON</span>
                    <span class="tag" style="font-size: 0.875rem; padding: var(--space-sm) var(--space-md);">SuiteQL</span>
                    <span class="tag" style="font-size: 0.875rem; padding: var(--space-sm) var(--space-md);">Webhooks</span>
                </div>
            </div>

            <!-- CTA -->
            <div style="margin-top: var(--space-3xl); padding: var(--space-2xl); background: var(--bg-secondary); border-radius: 12px; text-align: center;">
                <h3 style="margin-bottom: var(--space-md);">Need to connect SAP with NetSuite?</h3>
                <p style="margin-bottom: var(--space-xl); max-width: 550px; margin-left: auto; margin-right: auto;">
                    We build enterprise integrations that run reliably in production. Whether you need
                    direct connectivity or middleware-based routing, let's talk about your requirements.
                </p>
                <a href="../contact.html" class="btn btn--primary btn--large">Start a Conversation</a>
            </div>

        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container footer__content">
            <p class="footer__text">&copy; 2026 Forged Technologies. Built with focus.</p>
            <ul class="footer__links">
                <li><a href="https://www.linkedin.com/in/nathan-murray-311266114/" class="footer__link" target="_blank" rel="noopener">LinkedIn</a></li>
                <li><a href="https://github.com/natem1095" class="footer__link" target="_blank" rel="noopener">GitHub</a></li>
                <li><a href="mailto:nate.murray1095@gmail.com" class="footer__link">Email</a></li>
            </ul>
        </div>
    </footer>

    <script src="../js/main.js"></script>
</body>
</html>
